$(document).ready(function () {
	var pastMapDataString = localStorage.getItem('mapData');
	var exampleMap = {"nodes":[{"id":"node275","nodeType":"dev-node","html":"New node","left":"420px","top":"440px","width":"100px","height":"40px"},{"id":"node551","nodeType":"dev-node","html":"New node","left":"250px","top":"540px","width":"100px","height":"40px"},{"id":"node829","nodeType":"dev-node","html":"New node","left":"250px","top":"440px","width":"100px","height":"40px"},{"id":"node739","nodeType":"dev-node","html":"New node","left":"420px","top":"340px","width":"100px","height":"40px"},{"id":"node83","nodeType":"dev-node","html":"New node","left":"250px","top":"340px","width":"100px","height":"40px"},{"id":"node979","nodeType":"manager-node","html":"New node","left":"250px","top":"650px","width":"440px","height":"40px"},{"id":"node160","nodeType":"manager-node","html":"New node","left":"250px","top":"740px","width":"440px","height":"40px"},{"id":"node615","nodeType":"director-node","html":"Director","left":"250px","top":"830px","width":"440px","height":"40px"},{"id":"node377","nodeType":"head-node","html":"FBR","left":"580px","top":"150px","width":"100px","height":"40px"},{"id":"node794","nodeType":"head-node","html":"CEO","left":"410px","top":"50px","width":"120px","height":"40px"},{"id":"node176","nodeType":"head-node","html":"XYZ","left":"260px","top":"150px","width":"100px","height":"40px"},{"id":"node372","nodeType":"dev-node","html":"New node","left":"590px","top":"340px","width":"100px","height":"40px"},{"id":"node517","nodeType":"dev-node","html":"New node","left":"590px","top":"540px","width":"100px","height":"40px"},{"id":"node492","nodeType":"dev-node","html":"New node","left":"420px","top":"540px","width":"100px","height":"40px"},{"id":"node444","nodeType":"dev-node","html":"New node","left":"590px","top":"440px","width":"100px","height":"40px"},{"id":"node75","nodeType":"head-node","html":"OLOLO","left":"420px","top":"150px","width":"100px","height":"40px"},{"id":"node390","nodeType":"head-block","html":"HEAD MANAGEMENT<br>","left":"130px","top":"0px","width":"680px","height":"230px"},{"id":"node754","nodeType":"dev-block","html":"DEV LINE","left":"130px","top":"250px","width":"680px","height":"60px"}],"connections":[{"connectionId":"con_217","source":"node739","target":"node275","anchors":[[0.5,1,0,1,0,0],[0.5,0,0,-1,0,0]]},{"connectionId":"con_218","source":"node83","target":"node829","anchors":[[0.5,1,0,1,0,0],[0.5,0,0,-1,0,0]]},{"connectionId":"con_219","source":"node829","target":"node551","anchors":[[0.5,1,0,1,0,0],[0.5,0,0,-1,0,0]]},{"connectionId":"con_220","source":"node979","target":"node160","anchors":[[0.5,1,0,1,0,0],[0.5,0,0,-1,0,0]]},{"connectionId":"con_221","source":"node160","target":"node615","anchors":[[0.5,1,0,1,0,0],[0.5,0,0,-1,0,0]]},{"connectionId":"con_222","source":"node829","target":"node739","anchors":[[1,0.5,1,0,0,0],[0,0.5,-1,0,0,0]]},{"connectionId":"con_223","source":"node372","target":"node444","anchors":[[0.5,1,0,1,0,0],[0.5,0,0,-1,0,0]]},{"connectionId":"con_224","source":"node444","target":"node517","anchors":[[0.5,1,0,1,0,0],[0.5,0,0,-1,0,0]]},{"connectionId":"con_225","source":"node275","target":"node492","anchors":[[0.5,1,0,1,0,0],[0.5,0,0,-1,0,0]]},{"connectionId":"con_226","source":"node444","target":"node739","anchors":[[0,0.5,-1,0,0,0],[1,0.5,1,0,0,0]]},{"connectionId":"con_227","source":"node517","target":"node979","anchors":[[0.5,1,0,1,0,0],[0.5,0,0,-1,0,0]]},{"connectionId":"con_228","source":"node492","target":"node979","anchors":[[0.5,1,0,1,0,0],[0.5,0,0,-1,0,0]]},{"connectionId":"con_229","source":"node551","target":"node979","anchors":[[0.5,1,0,1,0,0],[0.5,0,0,-1,0,0]]}]};
	localStorage.setItem('mapData', JSON.stringify(exampleMap));

	mapper.init({container: '#container'});
	mapper.renderMap();

	localStorage.removeItem('mapData');
	if (pastMapDataString) {
		localStorage.setItem('mapData', pastMapDataString);
	}
});